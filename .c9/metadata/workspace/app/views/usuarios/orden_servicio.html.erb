{"filter":false,"title":"orden_servicio.html.erb","tooltip":"/app/views/usuarios/orden_servicio.html.erb","undoManager":{"mark":-1,"position":-1,"stack":[[{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"remove","lines":["                {titulo: 'Detalle Servicio #001', ruta: mi_servicio_path},",""],"id":257}],[{"start":{"row":77,"column":59},"end":{"row":77,"column":60},"action":"insert","lines":["d"],"id":256}],[{"start":{"row":77,"column":58},"end":{"row":77,"column":59},"action":"insert","lines":["i"],"id":255}],[{"start":{"row":77,"column":57},"end":{"row":77,"column":58},"action":"insert","lines":["."],"id":254}],[{"start":{"row":77,"column":56},"end":{"row":77,"column":57},"action":"insert","lines":["a"],"id":253}],[{"start":{"row":77,"column":55},"end":{"row":77,"column":56},"action":"insert","lines":["t"],"id":252}],[{"start":{"row":77,"column":54},"end":{"row":77,"column":55},"action":"insert","lines":["a"],"id":251}],[{"start":{"row":77,"column":53},"end":{"row":77,"column":54},"action":"insert","lines":["d"],"id":250}],[{"start":{"row":77,"column":53},"end":{"row":77,"column":54},"action":"insert","lines":[";"],"id":249}],[{"start":{"row":77,"column":52},"end":{"row":77,"column":53},"action":"insert","lines":[" "],"id":248}],[{"start":{"row":77,"column":51},"end":{"row":77,"column":52},"action":"insert","lines":["+"],"id":247}],[{"start":{"row":77,"column":50},"end":{"row":77,"column":51},"action":"insert","lines":[" "],"id":246}],[{"start":{"row":77,"column":49},"end":{"row":77,"column":50},"action":"remove","lines":[":"],"id":245}],[{"start":{"row":77,"column":50},"end":{"row":77,"column":51},"action":"remove","lines":["i"],"id":244}],[{"start":{"row":77,"column":51},"end":{"row":77,"column":52},"action":"remove","lines":["d"],"id":243}],[{"start":{"row":77,"column":53},"end":{"row":78,"column":12},"action":"remove","lines":["","            "],"id":242}],[{"start":{"row":79,"column":0},"end":{"row":80,"column":0},"action":"remove","lines":["            cargarCampos(data, 'Detalle ' + nombre, 'none', true);",""],"id":241}],[{"start":{"row":77,"column":35},"end":{"row":77,"column":53},"action":"insert","lines":["\"/mi_servicio/:id\""],"id":240}],[{"start":{"row":77,"column":35},"end":{"row":77,"column":36},"action":"remove","lines":["\""],"id":239}],[{"start":{"row":77,"column":36},"end":{"row":77,"column":37},"action":"remove","lines":["\""],"id":238}],[{"start":{"row":78,"column":12},"end":{"row":78,"column":30},"action":"remove","lines":["\"/mi_servicio/:id\""],"id":237}],[{"start":{"row":77,"column":35},"end":{"row":77,"column":37},"action":"insert","lines":["\"\""],"id":236}],[{"start":{"row":77,"column":34},"end":{"row":77,"column":35},"action":"insert","lines":[" "],"id":235}],[{"start":{"row":77,"column":33},"end":{"row":77,"column":34},"action":"insert","lines":["="],"id":234}],[{"start":{"row":77,"column":32},"end":{"row":77,"column":33},"action":"insert","lines":[" "],"id":233}],[{"start":{"row":77,"column":12},"end":{"row":77,"column":32},"action":"insert","lines":["window.location.href"],"id":232}],[{"start":{"row":76,"column":12},"end":{"row":77,"column":0},"action":"insert","lines":["",""],"id":231},{"start":{"row":77,"column":0},"end":{"row":77,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":77,"column":13},"end":{"row":77,"column":29},"action":"insert","lines":["/mi_servicio/:id"],"id":230}],[{"start":{"row":77,"column":12},"end":{"row":77,"column":14},"action":"insert","lines":["\"\""],"id":229}],[{"start":{"row":76,"column":12},"end":{"row":77,"column":0},"action":"insert","lines":["",""],"id":228},{"start":{"row":77,"column":0},"end":{"row":77,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":75,"column":65},"end":{"row":76,"column":0},"action":"insert","lines":["",""],"id":227},{"start":{"row":76,"column":0},"end":{"row":76,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":78,"column":5},"end":{"row":79,"column":0},"action":"remove","lines":["",""],"id":226}],[{"start":{"row":79,"column":0},"end":{"row":79,"column":1},"action":"remove","lines":[" "],"id":225}],[{"start":{"row":79,"column":1},"end":{"row":79,"column":2},"action":"remove","lines":[" "],"id":224}],[{"start":{"row":79,"column":2},"end":{"row":79,"column":3},"action":"remove","lines":[" "],"id":223}],[{"start":{"row":80,"column":4},"end":{"row":157,"column":5},"action":"remove","lines":["var agregar_registro = function() {","        var descripcion = $(\"#descripcion\").val();","        ","        if (validarcampos(descripcion)) {","            ","            $.ajax({","                url:'/guardar_maestro',","                data:{","                    url: \"<%= maestro[:maestro] %>\",","                    descripcion: descripcion","                },","                success:function(data){","                    toastr.success(data.message);","                    addRow(data.nuevo);","                    $('#modalSimple').modal('hide');","                },","                error:function(data){","                    toastr.error(data.message, \"Oops!\");","                }","            });","        } else {","            toastr.error(\"Todos los campos son obligatorios\", \"Campos Obligatorios\");","        }","    }","    var modificar_registro = function() {","        var table = $('#dt_tabla').DataTable();","        var dato = table.row('.selected').data();","        var descripcion = $(\"#descripcion\").val();","        ","        $.ajax({","            url:'/modificar_maestro',","            data:{","                maestro: \"<%= maestro[:maestro] %>\",","                descripcion: descripcion,","                id: dato.id","            },","            success:function(data){","                toastr.success(data.message);","                table.row( '.selected' ).data( data.nuevo ).draw();","                $('#modalSimple').modal('hide');","            },","            error:function(data){","                toastr.error(data.message, \"Oops!\");","            }","        });","    }","    var addRow = function(nuevo) {","        var table = $('#dt_tabla').DataTable();"," ","        table.row.add( {","                \"id\": nuevo.id,","                \"descripcion\": nuevo.descripcion,","                \"estatus\": nuevo.estatus","        } ).draw();","    }","    ","    var eliminar_registro = function() {","        $(document).on('click', '#modalConfirmacionBoton', function() {","            var table = $('#dt_tabla').DataTable();","            var data = table.row('.selected').data();","            ","            $.ajax({","                url:'/eliminar_maestro',","                data:{","                    maestro: \"<%= maestro[:maestro] %>\",","                    id: data.id","                },","                success:function(data){","                    toastr.success(data.message);","                    table.row( '.selected' ).remove().draw();","                    $('#modalConfirmacion').modal('hide');","                },","                error:function(data){","                    toastr.error(data.message, \"Oops!\");","                }","            });","        });","    }"]}],[{"start":{"row":79,"column":3},"end":{"row":89,"column":5},"action":"remove","lines":["","   ","    var agregar_modificar_registro = function() {","        $(document).on('click', '#modalSimpleBoton', function() {","            if ($(\"#metodo\").val() == \"1\") {","                agregar_registro();","            } else {","                modificar_registro();","            }","        });","    }"],"id":221}],[{"start":{"row":80,"column":3},"end":{"row":87,"column":5},"action":"remove","lines":["","    var conf_modal = function(data, title, footerVisible, disable) {","        $(\"#descripcion\").val(data).prop('disabled', disable);","","        $(\"#modalSimpleFooter\").css('display', footerVisible);","        $(\"#modalSimpleTitulo\").html(title);","        $('#modalSimple').modal({ backdrop: 'static', keyboard: false });","    }"],"id":220}],[{"start":{"row":80,"column":3},"end":{"row":86,"column":5},"action":"remove","lines":["","    var cargarCampos = function(data, title, footerVisible, disable) {","        conf_modal(data.descripcion, title, footerVisible, disable);","    }","    var limpiarCampos = function(title, footerVisible) {","        conf_modal('', title, footerVisible, false);","    }"],"id":219}],[{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["",""],"id":218}],[{"start":{"row":73,"column":0},"end":{"row":73,"column":1},"action":"remove","lines":[" "],"id":217}],[{"start":{"row":73,"column":1},"end":{"row":73,"column":2},"action":"remove","lines":[" "],"id":216}],[{"start":{"row":73,"column":2},"end":{"row":80,"column":5},"action":"remove","lines":["  var agregar_row = function() {","        $(document).on('click', '#crear', function() {","            $('#modalSimpleBoton').removeClass().addClass('btn btn-primary btn-fill');","            $(\"#modalSimpleBoton\").html( '<i class=\"fa fa-save fa-fw\"></i>Guardar' );","            $(\"#metodo\").val(\"1\");","            limpiarCampos(\"<%= maestro[:nuevo] %>\", 'inherit');","        });","    }"],"id":215}],[{"start":{"row":71,"column":0},"end":{"row":72,"column":0},"action":"remove","lines":["        eliminar_row(\"#dt_tabla tbody\", table);",""],"id":214}],[{"start":{"row":89,"column":3},"end":{"row":98,"column":5},"action":"remove","lines":[" var eliminar_row = function(tbody, table) {","         $(tbody).on('click', 'button.eliminar', function() {","            var data = table.row( $(this).parents(\"tr\") ).data();","            $(\"#modalConfirmacionTitulo\").html('Confirmación');","            $(\"#modalConfirmacionPregunta\").html(\"¿Seguro desea eliminar <b>\" + data.descripcion + \"</b>?\");","            $('#modalConfirmacionBoton').addClass('btn btn-danger btn-fill');","            $('#modalConfirmacionBoton').html(\"<i class='fa fa-trash-o'></i> Eliminar\");","            $('#modalConfirmacion').modal({ backdrop: 'static', keyboard: false });","        });","    }"],"id":213}],[{"start":{"row":71,"column":0},"end":{"row":72,"column":0},"action":"remove","lines":["        editar_row(\"#dt_tabla tbody\", table);",""],"id":212}],[{"start":{"row":89,"column":3},"end":{"row":97,"column":5},"action":"remove","lines":[" var editar_row = function(tbody, table) {","        $(tbody).on('click', 'button.editar', function() {","            var data = table.row( $(this).parents(\"tr\") ).data();","            $('#modalSimpleBoton').removeClass().addClass('btn btn-success btn-fill');","            $(\"#modalSimpleBoton\").html( '<i class=\"fa fa-edit fa-fw\"></i>Editar' );","            $(\"#metodo\").val(\"2\");","            cargarCampos(data, 'Editar ' + nombre, 'inherit', false);","        });","    }"],"id":211}],[{"start":{"row":61,"column":34},"end":{"row":61,"column":35},"action":"remove","lines":[" "],"id":210}],[{"start":{"row":61,"column":35},"end":{"row":61,"column":36},"action":"remove","lines":["+"],"id":209}],[{"start":{"row":61,"column":36},"end":{"row":61,"column":37},"action":"remove","lines":[" "],"id":208}],[{"start":{"row":61,"column":37},"end":{"row":61,"column":38},"action":"remove","lines":["e"],"id":207}],[{"start":{"row":61,"column":38},"end":{"row":61,"column":39},"action":"remove","lines":["d"],"id":206}],[{"start":{"row":61,"column":39},"end":{"row":61,"column":40},"action":"remove","lines":["i"],"id":205}],[{"start":{"row":61,"column":40},"end":{"row":61,"column":41},"action":"remove","lines":["t"],"id":204}],[{"start":{"row":61,"column":41},"end":{"row":61,"column":42},"action":"remove","lines":["a"],"id":203}],[{"start":{"row":61,"column":42},"end":{"row":61,"column":43},"action":"remove","lines":["r"],"id":202}],[{"start":{"row":61,"column":43},"end":{"row":61,"column":44},"action":"remove","lines":[" "],"id":201}],[{"start":{"row":61,"column":44},"end":{"row":61,"column":45},"action":"remove","lines":["+"],"id":200}],[{"start":{"row":61,"column":45},"end":{"row":61,"column":46},"action":"remove","lines":[" "],"id":199}],[{"start":{"row":61,"column":46},"end":{"row":61,"column":47},"action":"remove","lines":["e"],"id":198}],[{"start":{"row":61,"column":47},"end":{"row":61,"column":48},"action":"remove","lines":["s"],"id":197}],[{"start":{"row":61,"column":48},"end":{"row":61,"column":49},"action":"remove","lines":["t"],"id":196}],[{"start":{"row":61,"column":49},"end":{"row":61,"column":50},"action":"remove","lines":["a"],"id":195}],[{"start":{"row":61,"column":50},"end":{"row":61,"column":51},"action":"remove","lines":["t"],"id":194}],[{"start":{"row":61,"column":51},"end":{"row":61,"column":52},"action":"remove","lines":["u"],"id":193}],[{"start":{"row":61,"column":52},"end":{"row":61,"column":53},"action":"remove","lines":["s"],"id":192}],[{"start":{"row":61,"column":53},"end":{"row":61,"column":54},"action":"remove","lines":["_"],"id":191}],[{"start":{"row":61,"column":54},"end":{"row":61,"column":55},"action":"remove","lines":["c"],"id":190}],[{"start":{"row":61,"column":55},"end":{"row":61,"column":56},"action":"remove","lines":["h"],"id":189}],[{"start":{"row":61,"column":56},"end":{"row":61,"column":57},"action":"remove","lines":["a"],"id":188}],[{"start":{"row":61,"column":57},"end":{"row":61,"column":58},"action":"remove","lines":["n"],"id":187}],[{"start":{"row":61,"column":58},"end":{"row":61,"column":59},"action":"remove","lines":["g"],"id":186}],[{"start":{"row":61,"column":59},"end":{"row":61,"column":60},"action":"remove","lines":["e"],"id":185}],[{"start":{"row":61,"column":60},"end":{"row":61,"column":61},"action":"remove","lines":[" "],"id":184}],[{"start":{"row":61,"column":61},"end":{"row":61,"column":62},"action":"remove","lines":["+"],"id":183}],[{"start":{"row":61,"column":62},"end":{"row":61,"column":63},"action":"remove","lines":[" "],"id":182}],[{"start":{"row":61,"column":63},"end":{"row":61,"column":71},"action":"remove","lines":["eliminar"],"id":181}],[{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"remove","lines":["                        var eliminar = \"<button type='button' class='eliminar btn btn-outline btn-danger' data-toggle='tooltip' title='Eliminar'><i class='fa fa-trash-o'></i></button>\";",""],"id":180},{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"remove","lines":["                        var estatus_change = \"<button type='button' class='estatus_change btn btn-outline btn-warning' data-toggle='tooltip' title='Activar / Suspender'><i class='fa fa-refresh'></i></button> \";",""],"id":179}],[{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"remove","lines":["                        var editar = \"<button type='button' class='editar btn btn-outline btn-success' data-toggle='tooltip' title='Editar'><i class='fa fa-edit'></i></button> \";",""],"id":178}],[{"start":{"row":55,"column":42},"end":{"row":55,"column":43},"action":"insert","lines":["s"],"id":177}],[{"start":{"row":55,"column":41},"end":{"row":55,"column":42},"action":"insert","lines":["u"],"id":176}],[{"start":{"row":55,"column":40},"end":{"row":55,"column":41},"action":"insert","lines":["t"],"id":175}],[{"start":{"row":55,"column":39},"end":{"row":55,"column":40},"action":"insert","lines":["a"],"id":174}],[{"start":{"row":55,"column":38},"end":{"row":55,"column":39},"action":"insert","lines":["t"],"id":173}],[{"start":{"row":55,"column":37},"end":{"row":55,"column":38},"action":"insert","lines":["s"],"id":172}],[{"start":{"row":55,"column":36},"end":{"row":55,"column":37},"action":"insert","lines":["E"],"id":171}],[{"start":{"row":55,"column":25},"end":{"row":55,"column":29},"action":"remove","lines":["desc"],"id":170},{"start":{"row":55,"column":25},"end":{"row":55,"column":36},"action":"insert","lines":["descripcion"]}],[{"start":{"row":55,"column":28},"end":{"row":55,"column":29},"action":"insert","lines":["c"],"id":169}],[{"start":{"row":55,"column":27},"end":{"row":55,"column":28},"action":"insert","lines":["s"],"id":168}],[{"start":{"row":55,"column":26},"end":{"row":55,"column":27},"action":"insert","lines":["e"],"id":167}],[{"start":{"row":55,"column":25},"end":{"row":55,"column":26},"action":"insert","lines":["d"],"id":166}],[{"start":{"row":55,"column":26},"end":{"row":55,"column":27},"action":"remove","lines":["d"],"id":165}],[{"start":{"row":55,"column":27},"end":{"row":55,"column":28},"action":"remove","lines":["e"],"id":164}],[{"start":{"row":55,"column":28},"end":{"row":55,"column":29},"action":"remove","lines":["s"],"id":163}],[{"start":{"row":55,"column":29},"end":{"row":55,"column":30},"action":"remove","lines":["c"],"id":162}],[{"start":{"row":55,"column":29},"end":{"row":55,"column":30},"action":"insert","lines":["c"],"id":161}],[{"start":{"row":55,"column":28},"end":{"row":55,"column":29},"action":"insert","lines":["s"],"id":160}],[{"start":{"row":55,"column":27},"end":{"row":55,"column":28},"action":"insert","lines":["e"],"id":159}],[{"start":{"row":55,"column":26},"end":{"row":55,"column":27},"action":"insert","lines":["d"],"id":158}],[{"start":{"row":55,"column":24},"end":{"row":55,"column":26},"action":"insert","lines":["\"\""],"id":157}],[{"start":{"row":55,"column":23},"end":{"row":55,"column":24},"action":"insert","lines":[" "],"id":156}],[{"start":{"row":55,"column":22},"end":{"row":55,"column":23},"action":"insert","lines":[":"],"id":155}],[{"start":{"row":55,"column":22},"end":{"row":55,"column":23},"action":"insert","lines":[" "],"id":154}],[{"start":{"row":55,"column":21},"end":{"row":55,"column":22},"action":"insert","lines":["a"],"id":153}],[{"start":{"row":55,"column":20},"end":{"row":55,"column":21},"action":"insert","lines":["t"],"id":152}],[{"start":{"row":55,"column":19},"end":{"row":55,"column":20},"action":"insert","lines":["a"],"id":151}],[{"start":{"row":55,"column":18},"end":{"row":55,"column":19},"action":"insert","lines":["d"],"id":150}],[{"start":{"row":55,"column":18},"end":{"row":69,"column":16},"action":"remove","lines":["sortable: false,","                    \"render\": function ( data, type, full, meta ) {","                        var estatus = '';","                        switch(full.estatus) {","                            case 0:","                                estatus = \"<button class='btn btn-primary btn-circle' data-toggle='tooltip' title='Activo' type='button'></button>\";","                            break;","                            case 1:","                                estatus = \"<button class='btn btn-warning btn-circle' data-toggle='tooltip' title='Suspendido' type='button'></button>\";","                            break;","                        }","                        ","                        return estatus;","                    }","                "],"id":149}],[{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"remove","lines":["            columnDefs: [{ targets: [ 0 ], visible: false }],",""],"id":148}],[{"start":{"row":51,"column":52},"end":{"row":51,"column":53},"action":"remove","lines":[" "],"id":147}],[{"start":{"row":51,"column":23},"end":{"row":51,"column":34},"action":"insert","lines":["solicitudes"],"id":146}],[{"start":{"row":51,"column":22},"end":{"row":51,"column":23},"action":"insert","lines":["@"],"id":145}],[{"start":{"row":51,"column":22},"end":{"row":51,"column":23},"action":"remove","lines":["\""],"id":144}],[{"start":{"row":51,"column":22},"end":{"row":51,"column":36},"action":"remove","lines":["maestro[:json]"],"id":143},{"start":{"row":51,"column":22},"end":{"row":51,"column":23},"action":"insert","lines":["\""]}],[{"start":{"row":39,"column":0},"end":{"row":40,"column":0},"action":"remove","lines":["    var nombre = \"<%= maestro[:nombre] %>\"",""],"id":142}],[{"start":{"row":36,"column":0},"end":{"row":227,"column":9},"action":"insert","lines":["<% content_for :javascript do %>","    <script type=\"text/javascript\">","    ","    var nombre = \"<%= maestro[:nombre] %>\"","    $(function() {","        listar();","        agregar_row();","        agregar_modificar_registro();","        eliminar_registro();","        ","    });","    var listar = function() {   ","        var table = $( '#dt_tabla' ).DataTable({","            bDestroy: true,","            bLengthChange : false,","            dom: '<\"pull-left\"f><\"pull-right\"l>tip',","            data: <%= maestro[:json].to_json.html_safe  %>,","            columnDefs: [{ targets: [ 0 ], visible: false }],","            order: [[ 0, \"asc\" ]],","            columns: [","                { data: \"id\" },","                { sortable: false,","                    \"render\": function ( data, type, full, meta ) {","                        var estatus = '';","                        switch(full.estatus) {","                            case 0:","                                estatus = \"<button class='btn btn-primary btn-circle' data-toggle='tooltip' title='Activo' type='button'></button>\";","                            break;","                            case 1:","                                estatus = \"<button class='btn btn-warning btn-circle' data-toggle='tooltip' title='Suspendido' type='button'></button>\";","                            break;","                        }","                        ","                        return estatus;","                    }","                },","                { data: \"descripcion\" },","                { sortable: false,","                    \"render\": function ( data, type, full, meta ) {","                        var ver = \"<button type='button' class='ver btn btn-outline btn-default' data-toggle='tooltip' title='Ver Más'><i class='fa fa-eye'></i></button> \";","                        var editar = \"<button type='button' class='editar btn btn-outline btn-success' data-toggle='tooltip' title='Editar'><i class='fa fa-edit'></i></button> \";","                        var estatus_change = \"<button type='button' class='estatus_change btn btn-outline btn-warning' data-toggle='tooltip' title='Activar / Suspender'><i class='fa fa-refresh'></i></button> \";","                        var eliminar = \"<button type='button' class='eliminar btn btn-outline btn-danger' data-toggle='tooltip' title='Eliminar'><i class='fa fa-trash-o'></i></button>\";","                        return ver + editar + estatus_change + eliminar;","                    }","                }","            ],","            language: data_table_language","        });","        ","        dateTable_selected(\"#dt_tabla tbody\", table);","        ","        ver_row(\"#dt_tabla tbody\", table);","        editar_row(\"#dt_tabla tbody\", table);","        eliminar_row(\"#dt_tabla tbody\", table);","    }","","    var agregar_row = function() {","        $(document).on('click', '#crear', function() {","            $('#modalSimpleBoton').removeClass().addClass('btn btn-primary btn-fill');","            $(\"#modalSimpleBoton\").html( '<i class=\"fa fa-save fa-fw\"></i>Guardar' );","            $(\"#metodo\").val(\"1\");","            limpiarCampos(\"<%= maestro[:nuevo] %>\", 'inherit');","        });","    }","    var ver_row = function(tbody, table) {","        $(tbody).on('click', 'button.ver', function() {","            var data = table.row( $(this).parents(\"tr\") ).data();","            cargarCampos(data, 'Detalle ' + nombre, 'none', true);","        });","    }","    var editar_row = function(tbody, table) {","        $(tbody).on('click', 'button.editar', function() {","            var data = table.row( $(this).parents(\"tr\") ).data();","            $('#modalSimpleBoton').removeClass().addClass('btn btn-success btn-fill');","            $(\"#modalSimpleBoton\").html( '<i class=\"fa fa-edit fa-fw\"></i>Editar' );","            $(\"#metodo\").val(\"2\");","            cargarCampos(data, 'Editar ' + nombre, 'inherit', false);","        });","    }","    var eliminar_row = function(tbody, table) {","         $(tbody).on('click', 'button.eliminar', function() {","            var data = table.row( $(this).parents(\"tr\") ).data();","            $(\"#modalConfirmacionTitulo\").html('Confirmación');","            $(\"#modalConfirmacionPregunta\").html(\"¿Seguro desea eliminar <b>\" + data.descripcion + \"</b>?\");","            $('#modalConfirmacionBoton').addClass('btn btn-danger btn-fill');","            $('#modalConfirmacionBoton').html(\"<i class='fa fa-trash-o'></i> Eliminar\");","            $('#modalConfirmacion').modal({ backdrop: 'static', keyboard: false });","        });","    }","    var cargarCampos = function(data, title, footerVisible, disable) {","        conf_modal(data.descripcion, title, footerVisible, disable);","    }","    var limpiarCampos = function(title, footerVisible) {","        conf_modal('', title, footerVisible, false);","    }","    var conf_modal = function(data, title, footerVisible, disable) {","        $(\"#descripcion\").val(data).prop('disabled', disable);","","        $(\"#modalSimpleFooter\").css('display', footerVisible);","        $(\"#modalSimpleTitulo\").html(title);","        $('#modalSimple').modal({ backdrop: 'static', keyboard: false });","    }","    var agregar_modificar_registro = function() {","        $(document).on('click', '#modalSimpleBoton', function() {","            if ($(\"#metodo\").val() == \"1\") {","                agregar_registro();","            } else {","                modificar_registro();","            }","        });","    }","    var agregar_registro = function() {","        var descripcion = $(\"#descripcion\").val();","        ","        if (validarcampos(descripcion)) {","            ","            $.ajax({","                url:'/guardar_maestro',","                data:{","                    url: \"<%= maestro[:maestro] %>\",","                    descripcion: descripcion","                },","                success:function(data){","                    toastr.success(data.message);","                    addRow(data.nuevo);","                    $('#modalSimple').modal('hide');","                },","                error:function(data){","                    toastr.error(data.message, \"Oops!\");","                }","            });","        } else {","            toastr.error(\"Todos los campos son obligatorios\", \"Campos Obligatorios\");","        }","    }","    var modificar_registro = function() {","        var table = $('#dt_tabla').DataTable();","        var dato = table.row('.selected').data();","        var descripcion = $(\"#descripcion\").val();","        ","        $.ajax({","            url:'/modificar_maestro',","            data:{","                maestro: \"<%= maestro[:maestro] %>\",","                descripcion: descripcion,","                id: dato.id","            },","            success:function(data){","                toastr.success(data.message);","                table.row( '.selected' ).data( data.nuevo ).draw();","                $('#modalSimple').modal('hide');","            },","            error:function(data){","                toastr.error(data.message, \"Oops!\");","            }","        });","    }","    var addRow = function(nuevo) {","        var table = $('#dt_tabla').DataTable();"," ","        table.row.add( {","                \"id\": nuevo.id,","                \"descripcion\": nuevo.descripcion,","                \"estatus\": nuevo.estatus","        } ).draw();","    }","    ","    var eliminar_registro = function() {","        $(document).on('click', '#modalConfirmacionBoton', function() {","            var table = $('#dt_tabla').DataTable();","            var data = table.row('.selected').data();","            ","            $.ajax({","                url:'/eliminar_maestro',","                data:{","                    maestro: \"<%= maestro[:maestro] %>\",","                    id: data.id","                },","                success:function(data){","                    toastr.success(data.message);","                    table.row( '.selected' ).remove().draw();","                    $('#modalConfirmacion').modal('hide');","                },","                error:function(data){","                    toastr.error(data.message, \"Oops!\");","                }","            });","        });","    }","</script>","<% end %>"],"id":141}],[{"start":{"row":36,"column":0},"end":{"row":37,"column":0},"action":"remove","lines":["",""],"id":140}],[{"start":{"row":37,"column":0},"end":{"row":38,"column":0},"action":"remove","lines":["",""],"id":139}],[{"start":{"row":38,"column":0},"end":{"row":117,"column":6},"action":"remove","lines":["<div class=\"wrapper wrapper-content\" >","     <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"ibox float-e-margins\">","    <div class=\"ibox-content text-center p-md\">","        <div class=\"row\">","                            <div class=\"col-sm-6\">","                                <h5>Orden de Servicio nro:</h5>","                                <address>","                                  <h4 class=\"text-navy\"> OS-000567F7-00</h4><br>","                                </address>","                            </div>","","                            <div class=\"col-sm-6 text-right\">","                                <h4>Supervisor Asignado.</h4>","                                <h4 class=\"text-navy\">Antonio Barazarte</h4>","                                <p>","                                    <span><strong>Fecha de Inicio: 10/10/2017</strong></span><br>","                                </p>","                                ","                                <p>","                                    <span><strong>Fecha de finalizacion: 18/10/2017</strong></span><br>","                                </p>","                            </div>","                        </div>","        <div class=\"ibox float-e-margins\">","            <div class=\"ibox-title\">","                <h5>Tareas</h5>","                ","            </div>","","            <div class=\"ibox-content\">","                                   <table class=\"table table-striped table-bordered table-hover dataTables-examples\">","            <thead>","            <tr>","                <th>Categoria</th>","                <th>Servicio</th>","                <th>Tarea</th>","                <th>Encargado</th>","            </tr>","            </thead>","            <tbody align=\"center\">","            <tr class=\"gradeA\">","                <td>Mantenimiento</td>","                <td>Pulir Piso</td>","                <td class=\"center\">Limpiar piso</td>","                <td>Leonel Messi</td>","            </tr>","            <tr class=\"gradeA\">","                <td>Mantenimento</td>","                <td>Pulir Piso</td>","                <td class=\"center\">Aplicar producto al piso</td>","                <td>Cristiano Ronaldo</td>","            </tr>            ","            <tr class=\"gradeA\">","                <td>Mantenimiento</td>","                <td>Pintura</td>","                <td class=\"center\">Lijar paredes</td>","                <td>Keylor Navas</td> ","            </tr>","            <tr class=\"gradeA\">","                <td>Mantenimento</td>","                <td>Pintura</td>","                <td class=\"center\">Pintar pared</td>","                <td>Marcelo Viera</td>","            </tr>","","            </tbody>","            <tfoot>","          ","            </tfoot>","            </table>","","                    </div>","","                </div>","    </div></div>","    </div>","    </div>","</div>"]}],[{"start":{"row":26,"column":0},"end":{"row":27,"column":0},"action":"remove","lines":["                            <th>Descripción</th>",""],"id":137}],[{"start":{"row":25,"column":37},"end":{"row":25,"column":38},"action":"insert","lines":["o"],"id":136}],[{"start":{"row":25,"column":36},"end":{"row":25,"column":37},"action":"insert","lines":["d"],"id":135}],[{"start":{"row":25,"column":35},"end":{"row":25,"column":36},"action":"insert","lines":["a"],"id":134}],[{"start":{"row":25,"column":34},"end":{"row":25,"column":35},"action":"insert","lines":["t"],"id":133}],[{"start":{"row":25,"column":33},"end":{"row":25,"column":34},"action":"insert","lines":["s"],"id":132}],[{"start":{"row":25,"column":32},"end":{"row":25,"column":37},"action":"remove","lines":["Fecha"],"id":131},{"start":{"row":25,"column":32},"end":{"row":25,"column":33},"action":"insert","lines":["E"]}],[{"start":{"row":25,"column":28},"end":{"row":25,"column":42},"action":"insert","lines":["<th>Fecha</th>"],"id":130}],[{"start":{"row":24,"column":45},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":129},{"start":{"row":25,"column":0},"end":{"row":25,"column":28},"action":"insert","lines":["                            "]}],[{"start":{"row":24,"column":39},"end":{"row":24,"column":40},"action":"insert","lines":["o"],"id":128}],[{"start":{"row":24,"column":38},"end":{"row":24,"column":39},"action":"insert","lines":["i"],"id":127}],[{"start":{"row":24,"column":37},"end":{"row":24,"column":38},"action":"insert","lines":["c"],"id":126}],[{"start":{"row":24,"column":36},"end":{"row":24,"column":37},"action":"insert","lines":["i"],"id":125}],[{"start":{"row":24,"column":35},"end":{"row":24,"column":36},"action":"insert","lines":["v"],"id":124}],[{"start":{"row":24,"column":34},"end":{"row":24,"column":35},"action":"insert","lines":["r"],"id":123}],[{"start":{"row":24,"column":33},"end":{"row":24,"column":34},"action":"insert","lines":["e"],"id":122}],[{"start":{"row":24,"column":32},"end":{"row":24,"column":37},"action":"remove","lines":["Fecha"],"id":121},{"start":{"row":24,"column":32},"end":{"row":24,"column":33},"action":"insert","lines":["S"]}],[{"start":{"row":24,"column":28},"end":{"row":24,"column":42},"action":"insert","lines":["<th>Fecha</th>"],"id":120}],[{"start":{"row":23,"column":53},"end":{"row":24,"column":0},"action":"insert","lines":["",""],"id":119},{"start":{"row":24,"column":0},"end":{"row":24,"column":28},"action":"insert","lines":["                            "]}],[{"start":{"row":23,"column":47},"end":{"row":23,"column":48},"action":"insert","lines":["o"],"id":118}],[{"start":{"row":23,"column":46},"end":{"row":23,"column":47},"action":"insert","lines":["i"],"id":117}],[{"start":{"row":23,"column":45},"end":{"row":23,"column":46},"action":"insert","lines":["c"],"id":116}],[{"start":{"row":23,"column":44},"end":{"row":23,"column":45},"action":"insert","lines":["i"],"id":115}],[{"start":{"row":23,"column":43},"end":{"row":23,"column":44},"action":"insert","lines":["v"],"id":114}],[{"start":{"row":23,"column":42},"end":{"row":23,"column":43},"action":"insert","lines":["r"],"id":113}],[{"start":{"row":23,"column":41},"end":{"row":23,"column":42},"action":"insert","lines":["e"],"id":112}],[{"start":{"row":23,"column":40},"end":{"row":23,"column":41},"action":"insert","lines":["S"],"id":111}],[{"start":{"row":23,"column":39},"end":{"row":23,"column":40},"action":"insert","lines":[" "],"id":110}],[{"start":{"row":23,"column":38},"end":{"row":23,"column":39},"action":"insert","lines":["e"],"id":109}],[{"start":{"row":23,"column":37},"end":{"row":23,"column":38},"action":"insert","lines":["d"],"id":108}],[{"start":{"row":23,"column":36},"end":{"row":23,"column":37},"action":"insert","lines":[" "],"id":107}],[{"start":{"row":23,"column":35},"end":{"row":23,"column":36},"action":"insert","lines":["o"],"id":106}],[{"start":{"row":23,"column":34},"end":{"row":23,"column":35},"action":"insert","lines":["p"],"id":105}],[{"start":{"row":23,"column":33},"end":{"row":23,"column":34},"action":"insert","lines":["i"],"id":104}],[{"start":{"row":23,"column":32},"end":{"row":23,"column":33},"action":"insert","lines":["T"],"id":103}],[{"start":{"row":23,"column":32},"end":{"row":23,"column":33},"action":"remove","lines":["i"],"id":102}],[{"start":{"row":23,"column":32},"end":{"row":23,"column":37},"action":"remove","lines":["Fecha"],"id":101},{"start":{"row":23,"column":32},"end":{"row":23,"column":33},"action":"insert","lines":["i"]}],[{"start":{"row":23,"column":28},"end":{"row":23,"column":42},"action":"insert","lines":["<th>Fecha</th>"],"id":100}],[{"start":{"row":22,"column":46},"end":{"row":23,"column":0},"action":"insert","lines":["",""],"id":99},{"start":{"row":23,"column":0},"end":{"row":23,"column":28},"action":"insert","lines":["                            "]}],[{"start":{"row":22,"column":40},"end":{"row":22,"column":41},"action":"insert","lines":["a"],"id":98}],[{"start":{"row":22,"column":39},"end":{"row":22,"column":40},"action":"insert","lines":["í"],"id":97}],[{"start":{"row":22,"column":38},"end":{"row":22,"column":39},"action":"insert","lines":["r"],"id":96}],[{"start":{"row":22,"column":37},"end":{"row":22,"column":38},"action":"insert","lines":["o"],"id":95}],[{"start":{"row":22,"column":36},"end":{"row":22,"column":37},"action":"insert","lines":["g"],"id":94}],[{"start":{"row":22,"column":35},"end":{"row":22,"column":36},"action":"insert","lines":["e"],"id":93}],[{"start":{"row":22,"column":34},"end":{"row":22,"column":35},"action":"insert","lines":["t"],"id":92}],[{"start":{"row":22,"column":33},"end":{"row":22,"column":34},"action":"insert","lines":["a"],"id":91}],[{"start":{"row":22,"column":32},"end":{"row":22,"column":37},"action":"remove","lines":["Fecha"],"id":90},{"start":{"row":22,"column":32},"end":{"row":22,"column":33},"action":"insert","lines":["C"]}],[{"start":{"row":22,"column":28},"end":{"row":22,"column":42},"action":"insert","lines":["<th>Fecha</th>"],"id":89}],[{"start":{"row":21,"column":42},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":88},{"start":{"row":22,"column":0},"end":{"row":22,"column":28},"action":"insert","lines":["                            "]}],[{"start":{"row":23,"column":31},"end":{"row":23,"column":32},"action":"remove","lines":[" "],"id":87}],[{"start":{"row":23,"column":32},"end":{"row":23,"column":33},"action":"remove","lines":["\""],"id":86}],[{"start":{"row":23,"column":32},"end":{"row":23,"column":33},"action":"remove","lines":["c"],"id":85}],[{"start":{"row":23,"column":33},"end":{"row":23,"column":47},"action":"remove","lines":["lass=\"col-xs-3"],"id":84}],[{"start":{"row":22,"column":31},"end":{"row":22,"column":32},"action":"remove","lines":[" "],"id":83}],[{"start":{"row":22,"column":32},"end":{"row":22,"column":33},"action":"remove","lines":["c"],"id":82}],[{"start":{"row":22,"column":33},"end":{"row":22,"column":34},"action":"remove","lines":["l"],"id":81}],[{"start":{"row":22,"column":34},"end":{"row":22,"column":35},"action":"remove","lines":["a"],"id":80}],[{"start":{"row":22,"column":35},"end":{"row":22,"column":48},"action":"remove","lines":["ss=\"col-xs-8\""],"id":79}],[{"start":{"row":21,"column":31},"end":{"row":21,"column":32},"action":"remove","lines":[" "],"id":78}],[{"start":{"row":21,"column":32},"end":{"row":21,"column":33},"action":"remove","lines":["c"],"id":77}],[{"start":{"row":21,"column":33},"end":{"row":21,"column":34},"action":"remove","lines":["l"],"id":76}],[{"start":{"row":21,"column":34},"end":{"row":21,"column":35},"action":"remove","lines":["a"],"id":75}],[{"start":{"row":21,"column":35},"end":{"row":21,"column":36},"action":"remove","lines":["s"],"id":74}],[{"start":{"row":21,"column":36},"end":{"row":21,"column":37},"action":"remove","lines":["s"],"id":73}],[{"start":{"row":21,"column":37},"end":{"row":21,"column":38},"action":"remove","lines":["="],"id":72}],[{"start":{"row":21,"column":38},"end":{"row":21,"column":39},"action":"remove","lines":["\""],"id":71}],[{"start":{"row":21,"column":39},"end":{"row":21,"column":40},"action":"remove","lines":["c"],"id":70}],[{"start":{"row":21,"column":40},"end":{"row":21,"column":41},"action":"remove","lines":["o"],"id":69}],[{"start":{"row":21,"column":41},"end":{"row":21,"column":42},"action":"remove","lines":["l"],"id":68}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":43},"action":"remove","lines":["-"],"id":67}],[{"start":{"row":21,"column":43},"end":{"row":21,"column":44},"action":"remove","lines":["x"],"id":66}],[{"start":{"row":21,"column":44},"end":{"row":21,"column":45},"action":"remove","lines":["s"],"id":65}],[{"start":{"row":21,"column":45},"end":{"row":21,"column":46},"action":"remove","lines":["-"],"id":64}],[{"start":{"row":21,"column":46},"end":{"row":21,"column":47},"action":"remove","lines":["1"],"id":63}],[{"start":{"row":21,"column":47},"end":{"row":21,"column":48},"action":"remove","lines":["\""],"id":62}],[{"start":{"row":21,"column":53},"end":{"row":21,"column":54},"action":"insert","lines":["a"],"id":61}],[{"start":{"row":21,"column":52},"end":{"row":21,"column":53},"action":"insert","lines":["h"],"id":60}],[{"start":{"row":21,"column":51},"end":{"row":21,"column":52},"action":"insert","lines":["c"],"id":59}],[{"start":{"row":21,"column":50},"end":{"row":21,"column":51},"action":"insert","lines":["e"],"id":58}],[{"start":{"row":21,"column":49},"end":{"row":21,"column":50},"action":"insert","lines":["F"],"id":57}],[{"start":{"row":20,"column":43},"end":{"row":20,"column":44},"action":"insert","lines":["d"],"id":56}],[{"start":{"row":20,"column":42},"end":{"row":20,"column":43},"action":"insert","lines":["u"],"id":55}],[{"start":{"row":20,"column":41},"end":{"row":20,"column":42},"action":"insert","lines":["t"],"id":54}],[{"start":{"row":20,"column":40},"end":{"row":20,"column":41},"action":"insert","lines":["i"],"id":53}],[{"start":{"row":20,"column":39},"end":{"row":20,"column":40},"action":"insert","lines":["c"],"id":52}],[{"start":{"row":20,"column":38},"end":{"row":20,"column":39},"action":"insert","lines":["i"],"id":51}],[{"start":{"row":20,"column":37},"end":{"row":20,"column":38},"action":"insert","lines":["l"],"id":50}],[{"start":{"row":20,"column":36},"end":{"row":20,"column":37},"action":"insert","lines":["o"],"id":49}],[{"start":{"row":20,"column":35},"end":{"row":20,"column":36},"action":"insert","lines":["S"],"id":48}],[{"start":{"row":20,"column":34},"end":{"row":20,"column":35},"action":"insert","lines":[" "],"id":47}],[{"start":{"row":20,"column":33},"end":{"row":20,"column":34},"action":"insert","lines":["°"],"id":46}],[{"start":{"row":20,"column":33},"end":{"row":20,"column":34},"action":"remove","lines":["|"],"id":45}],[{"start":{"row":20,"column":33},"end":{"row":20,"column":34},"action":"insert","lines":["|"],"id":44}],[{"start":{"row":20,"column":32},"end":{"row":20,"column":33},"action":"insert","lines":["N"],"id":43}],[{"start":{"row":17,"column":16},"end":{"row":17,"column":17},"action":"remove","lines":[" "],"id":42}],[{"start":{"row":17,"column":15},"end":{"row":21,"column":14},"action":"remove","lines":[" <%= render partial: 'partial/boton_right', ","                    locals: {botones: [","                    {elemento: 'button', id: 'crear', clase: 'btn-primary', contenido: \"<i class='fa fa-plus'></i> Crear\"}]} %>","           ","              "],"id":41}],[{"start":{"row":37,"column":0},"end":{"row":38,"column":0},"action":"insert","lines":["",""],"id":40}],[{"start":{"row":36,"column":0},"end":{"row":37,"column":0},"action":"insert","lines":["",""],"id":39}],[{"start":{"row":35,"column":6},"end":{"row":35,"column":18},"action":"remove","lines":["            "],"id":38},{"start":{"row":35,"column":6},"end":{"row":36,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":12,"column":0},"end":{"row":35,"column":6},"action":"insert","lines":["<div class=\"wrapper wrapper-content\">","    <div class=\"ibox-content\">","        ","        <div class=\"project-list\">","            <div id=\"contenedor_tabla_usuario\" class=\"table-responsive\" style=\"text-align: right;\">","                <%= render partial: 'partial/boton_right', ","                    locals: {botones: [","                    {elemento: 'button', id: 'crear', clase: 'btn-primary', contenido: \"<i class='fa fa-plus'></i> Crear\"}]} %>","           ","                <table id=\"dt_tabla\" class=\"table\">","                    <thead>","                        <tr>","                            <th></th>","                            <th class=\"col-xs-1\"></th>","                            <th class=\"col-xs-8\">Descripción</th>","                            <th class=\"col-xs-3\">Acción</th>","                        </tr>","                    </thead>","                    <tbody></tbody>","                </table>","             </div>","        </div>","    </div>","</div>"],"id":37}],[{"start":{"row":11,"column":12},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":36},{"start":{"row":12,"column":0},"end":{"row":12,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":10,"column":12},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":35},{"start":{"row":11,"column":0},"end":{"row":11,"column":12},"action":"insert","lines":["            "]}]]},"ace":{"folds":[{"start":{"row":11,"column":38},"end":{"row":90,"column":0},"placeholder":"..."}],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":10,"column":12},"end":{"row":10,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1512249366845,"hash":"a088678dfc931508543f0716d6abf7fc3a7f4ca5"}